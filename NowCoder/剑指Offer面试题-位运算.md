## 【牛客】剑指Offer面试题-位运算

### 五种常用位运算

1. 左移操作（<<）  
规则：右边空出的位用0填补，高位左移溢出则舍弃该高位。  
2. 右移操作（>>）  
规则：左边空出的位用0或者1填补。正数用0填补，负数用1填补。注：不同的环境填补方式可能不同；
低位右移溢出则舍弃该位。
3. 与运算（&）
规则：与0相与可清零，与1相与可保留原值
4. 或运算（|）  
规则：与0相或可保留原值，与1相与可齐设1
5. 异或运算（^）  
规则：与0异或保留原值，与1异或比特值反转，通过某种算法，使用异或实现交换两个值，异或运算是有结合律的

具体详解参考：[http://blog.csdn.net/summercpp/article/details/24183813](http://blog.csdn.net/summercpp/article/details/24183813)

### 面试题15-二进制中1的个数

#### 题目描述

输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。

#### 分析

两种思路：

动态规划（时间O(n^2)，空间O(n)）：  
把从4到length的所有最优解都存在一个数组里，用子问题的最优解推出最终的最优解  

贪婪（时间O(1)，空间O(1)）：  
当n>=5时，每次尽可能多地剪长度为3的绳子，当剩下的绳子长度为4时，把绳子剪成长度为2的两段。  
数学证明如下：  
首先，当n>=5时，有2(n-2)>n和3(n-3)>n；  
另外，当n>=5时，3(n-2)>=2(n-2)；  
因此，我们要尽可能地多剪长度为3的绳子。  

#### 代码

- 常规解法：循环的次数是整数二进制的位数
```c
class Solution {
public:
     int  NumberOf1(int n) {
         int count = 0;
         unsigned int flag = 1;
         while(flag)
         {
             if(n & flag)
             {
             	count++;    
             }
             flag = flag << 1;
         }
         return count;
     }
};
```

- 惊喜解法：循环的次数1的个数
```c
class Solution {
public:
     int  NumberOf1(int n) {
         int count = 0;
         while(n)
         {
             ++count;
             n = n & (n - 1);
         }
         return count;
     }
};
```
